<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/profile.css">

    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet">
    <title>3D World</title>
</head>
<body>
    <div class="background-container">
        <%- include('./fondo.ejs')  %>
</div>


    <main>
        <% include('./partials/header.ejs')  %>

        <div id="registration-container">
            <h2>Estas editando tu perfil <%= locals.user.name + " " + locals.user.lastname%>!</h2>

            <form action="/user/edit?_method=PUT" method="post" enctype="multipart/form-data">
                <label for="name">Nombre:</label>
                <input type="text" id="name" name="name" placeholder="<%= locals.user.name %>">
                <% if(locals.errors && locals.errors.name){ %>
                    <span style="color : red" class="form_input_alert"><%= locals.errors.name.msg %></span>
                  <% } %>
                
                  <label for="lastname">Apellido:</label>
                  <input type="text" id="lastname" name="lastname" placeholder= "<%= locals.user.lastname %>">
                  <% if(locals.errors && locals.errors.lastname){ %>
                      <span style="color : red" class="form_input_alert"><%= locals.errors.lastname.msg %></span>
                    <% } %>

                
                <label for="email">Email:</label>
                <input type="text" id="email" name="email" placeholder="<%= locals.user.email %>" >
                <% if(locals.errors && locals.errors.email){ %>
                    <span style="color : red" class="form_input_alert"><%= locals.errors.email.msg %></span>
                  <% } %>

                <label for="password">Contraseña:</label>
                    <input type="password" id="password" name="password" >
                    <% if(locals.errors && locals.errors.password){ %>
                      <span style="color : red" class="form_input_alert"><%= locals.errors.password.msg %></span>
                    <% } %>
                    

                <button type="submit">Guardar Cambios</button>

                <a href="/user/logout"><button type="button">Cerrar Sesion</button></a>

                <a href="/"><button type="button">Volver a la pagina principal</button></a>

                </form>
                <form method="POST" action="/user/profile?_method=DELETE">
                    <button type="submit">Eliminar tu cuenta</button>
                </form>
                <script>
                    function confirmDelete() {
                        var result = confirm("¿Estás seguro de que deseas eliminar tu cuenta? Esta acción no se puede deshacer.");
                        return result;
                    }
                </script>
        </div>
    </main>
</body>